
## âœ… 1. ä»€ä¹ˆæ˜¯æ¨¡æ¿ï¼Ÿ

æ¨¡æ¿æ˜¯ C++ æä¾›çš„**æ³›å‹ç¼–ç¨‹å·¥å…·**ï¼Œå¯ä»¥å†™ä¸€ä¸ªå‡½æ•°æˆ–ç±»ï¼Œæ”¯æŒä»»æ„ç±»å‹ã€‚

### ğŸ¯ ä¸¾ä¾‹ï¼šé€šç”¨æ¯”è¾ƒå‡½æ•°æ¨¡æ¿

```cpp
template <typename T>
bool isEqual(T a, T b) {
    return a == b;
}
```

è¿™æ ·ä½ å°±å¯ä»¥å†™ï¼š

```cpp
isEqual(1, 2);         // int
isEqual(3.0, 3.0);     // double
isEqual("hi", "hi");   // âŒ ä¸è¡Œï¼Œå­—ç¬¦ä¸²æ¯”è¾ƒä¸äº†æŒ‡é’ˆå†…å®¹
```

---

## â—2. ä»€ä¹ˆæ˜¯æ¨¡æ¿ç‰¹åŒ–ï¼ˆTemplate Specializationï¼‰ï¼Ÿ

**æ¨¡æ¿ç‰¹åŒ–**çš„ä½œç”¨æ˜¯ï¼š

> ä¸ºæŸäº›**ç‰¹å®šçš„ç±»å‹**ï¼Œæä¾›**ä¸åŒçš„å®ç°**ï¼

ä¹Ÿå°±æ˜¯è¯´ï¼š  
ğŸ‘‰ ä¸€èˆ¬æƒ…å†µä½¿ç”¨é€šç”¨æ¨¡æ¿ï¼Œä½†å¯¹äºæŸäº›ç‰¹æ®Šç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€å¥—â€œä¸“é—¨çš„ç‰ˆæœ¬â€ã€‚

---

## ğŸ“¦ 3. ä¸¾ä¸ªä¾‹å­ï¼šå­—ç¬¦ä¸²çš„æ¯”è¾ƒ

```cpp
template <typename T>
bool isEqual(T a, T b) {
    return a == b;
}
```

è¿™å¯¹ `int`, `double` éƒ½å¯ä»¥ï¼Œä½†å¯¹å­—ç¬¦ä¸²æŒ‡é’ˆ `const char*` å°±ä¸è¡Œï¼š

```cpp
isEqual("abc", "abc");  // æ¯”è¾ƒçš„æ˜¯æŒ‡é’ˆåœ°å€ï¼Œä¸æ˜¯å†…å®¹ï¼âŒ
```

### ğŸ¯ è¿™æ—¶æˆ‘ä»¬éœ€è¦ï¼šæ¨¡æ¿ç‰¹åŒ–ï¼

---

## ğŸ§ª 4. ç¤ºä¾‹ï¼šå‡½æ•°æ¨¡æ¿ç‰¹åŒ–

```cpp
#include <iostream>
#include <cstring>

// é€šç”¨æ¨¡æ¿
template <typename T>
bool isEqual(T a, T b) {
    std::cout << "é€šç”¨æ¨¡æ¿" << std::endl;
    return a == b;
}

// ç‰¹åŒ–ç‰ˆæœ¬ï¼šå¤„ç† const char*
template <>
bool isEqual<const char*>(const char* a, const char* b) {
    std::cout << "ç‰¹åŒ–ç‰ˆæœ¬ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒ" << std::endl;
    return std::strcmp(a, b) == 0;
}

int main() {
    std::cout << isEqual(10, 10) << std::endl;        // é€šç”¨æ¨¡æ¿
    std::cout << isEqual("hi", "hi") << std::endl;    // ç‰¹åŒ–ç‰ˆæœ¬
}
```

### è¾“å‡ºï¼š

```
é€šç”¨æ¨¡æ¿
1
ç‰¹åŒ–ç‰ˆæœ¬ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒ
1
```

---

## ğŸ§± 5. ç±»æ¨¡æ¿ç‰¹åŒ–ï¼ˆclass template specializationï¼‰

ä¸ä»…å‡½æ•°ï¼Œ**ç±»æ¨¡æ¿ä¹Ÿå¯ä»¥ç‰¹åŒ–ï¼**

### ğŸŒ± ç¤ºä¾‹ï¼š

```cpp
#include <iostream>

// é€šç”¨ç±»æ¨¡æ¿
template <typename T>
class Printer {
public:
    void print(T value) {
        std::cout << "é€šç”¨ç‰ˆæœ¬: " << value << std::endl;
    }
};

// ç‰¹åŒ–ç‰ˆæœ¬ï¼šå¤„ç† const char*
template <>
class Printer<const char*> {
public:
    void print(const char* value) {
        std::cout << "å­—ç¬¦ä¸²ç‰¹åŒ–: " << value << std::endl;
    }
};

int main() {
    Printer<int> p1;
    p1.print(42);  // é€šç”¨ç‰ˆæœ¬

    Printer<const char*> p2;
    p2.print("Hello");  // ç‰¹åŒ–ç‰ˆæœ¬
}
```

---

## âš™ï¸ 6. åç‰¹åŒ–ï¼ˆPartial Specializationï¼‰

æœ‰æ—¶æˆ‘ä»¬ä¸éœ€è¦å®Œå…¨ç‰¹åŒ–ï¼Œè€Œæ˜¯**éƒ¨åˆ†ç‰¹åŒ–**â€”â€”æ¯”å¦‚åªæ”¹å˜å…¶ä¸­ä¸€ä¸ªæ¨¡æ¿å‚æ•°ã€‚

### ğŸŒ± ç¤ºä¾‹ï¼š

```cpp
template <typename T1, typename T2>
class Pair {
public:
    void print() {
        std::cout << "é€šç”¨ Pair" << std::endl;
    }
};

// åç‰¹åŒ–ï¼šT2 å›ºå®šä¸º int
template <typename T1>
class Pair<T1, int> {
public:
    void print() {
        std::cout << "åç‰¹åŒ–ï¼šç¬¬äºŒä¸ªæ˜¯ int" << std::endl;
    }
};

int main() {
    Pair<double, float> a;
    a.print();  // é€šç”¨ Pair

    Pair<char, int> b;
    b.print();  // åç‰¹åŒ–
}
```

---

## ğŸš§ 7. æ¨¡æ¿ç‰¹åŒ–æ³¨æ„äº‹é¡¹

|ç‰¹åŒ–ç±»å‹|è¯´æ˜|
|---|---|
|å‡½æ•°æ¨¡æ¿ç‰¹åŒ–|åªå…è®¸**å…¨ç‰¹åŒ–**ï¼ˆæ‰€æœ‰å‚æ•°éƒ½æŒ‡å®šï¼‰|
|ç±»æ¨¡æ¿ç‰¹åŒ–|æ”¯æŒ**å…¨ç‰¹åŒ–å’Œåç‰¹åŒ–**|
|ç‰¹åŒ–è¦å†™å¤–éƒ¨ç‰ˆæœ¬|ä¸èƒ½å†™åœ¨ç±»ä¸­ï¼ˆé™¤éä½¿ç”¨åµŒå¥—ï¼‰|
|ä¸æ”¯æŒé‡è½½|æ¨¡æ¿ç‰¹åŒ–å’Œé‡è½½è¯­æ³•ä¸åŒï¼Œæ³¨æ„ä¸è¦æ··æ·†|

---

## âœ… 8. æ€»ç»“å£è¯€

> **æ¨¡æ¿é€šç”¨ï¼Œç‰¹åŒ–å®šåˆ¶ï¼Œåç‰¹åŒ–æ§åˆ¶å±€éƒ¨è¡Œä¸ºã€‚**

- æƒ³ç»™æ‰€æœ‰ç±»å‹ç”¨ï¼š**æ™®é€šæ¨¡æ¿**
    
- æƒ³ç»™æŸç§ç±»å‹ç‰¹åˆ«å¤„ç†ï¼š**ç‰¹åŒ–æ¨¡æ¿**
    
- æƒ³åªæ”¹ä¸€éƒ¨åˆ†ï¼š**åç‰¹åŒ–**

# å®ä¾‹

```c++
template <DataType T>
struct TypeTraits {};

template <>
struct TypeTraits<DataType::NONE> {
    static constexpr const char* Name = "NONE";
};
template <>
struct TypeTraits<DataType::BOOL> {
    using NativeType = bool;
    static constexpr DataType TypeKind = DataType::BOOL;
    static constexpr bool IsPrimitiveType = true;
    static constexpr bool IsFixedWidth = true;
    static constexpr const char* Name = "BOOL";
};
```

å…¶ä¸­DataTypeä¸ºä¸€ä¸ªæšä¸¾ç±»å‹,ä»£æ›¿å¸¸ç”¨çš„class,è¡¨ç¤ºTypeTraitså°†æ³›å‹å‚æ•°é™å®šåœ¨DataTypeä¸­å®šä¹‰çš„ç±»å‹ä¹‹å†…,ä¸‹é¢æ˜¯æ¨¡æ¿ç‰¹åŒ–çš„å…·ä½“å®ç°,é‡Œé¢çš„å…·ä½“å­—æ®µç›¸å½“äºå¸¸è§„ç±»å‹ä¸­çš„æˆå‘˜å˜é‡,ä½†æ˜¯æ­¤å¤„ä¸ºç¼–è¯‘æ—¶å¸¸é‡

å¯ä»¥è¿™æ ·ä½¿ç”¨:

```c++
using T = TypeTraits<DataType::BOOL>;
T::NativeType x;             // => bool
auto type = T::TypeKind;     // => DataType::BOOL
bool isPrim = T::IsPrimitiveType; // => true
```