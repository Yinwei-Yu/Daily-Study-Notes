
## ğŸ’¡ ä»€ä¹ˆæ˜¯è¿ç®—ç¬¦é‡è½½ï¼Ÿ

C++ æ”¯æŒæˆ‘ä»¬**è‡ªå·±å®šä¹‰æŸäº›è¿ç®—ç¬¦çš„è¡Œä¸º**ï¼Œä½¿å¾—è‡ªå®šä¹‰ç±»å‹ï¼ˆç±»ï¼‰å¯ä»¥åƒå†…ç½®ç±»å‹ä¸€æ ·ä½¿ç”¨ `+`ã€`-`ã€`==` ç­‰è¿ç®—ç¬¦ã€‚

> **ä¾‹å­ï¼š** `int a = 3 + 5;` æ˜¯å†…ç½®ç±»å‹åŠ æ³•ã€‚  
> å¦‚æœä½ æœ‰è‡ªå·±çš„ç±» `Vector2D`ï¼Œä½ ä¹Ÿå¯ä»¥å†™ï¼š

```cpp
Vector2D v1, v2, v3;
v3 = v1 + v2;  // è‡ªå®šä¹‰ + çš„è¡Œä¸º
```

è¿™å°±å«åš **è¿ç®—ç¬¦é‡è½½**ã€‚

---

## ğŸ§± ä¸ºä»€ä¹ˆéœ€è¦è¿ç®—ç¬¦é‡è½½ï¼Ÿ

å‡è®¾ä½ æœ‰ä¸€ä¸ªäºŒç»´å‘é‡ç±» `Vector2D`ï¼Œè¡¨ç¤ºä¸€ä¸ªç‚¹æˆ–æ–¹å‘ï¼š

```cpp
struct Vector2D {
    float x, y;
};
```

ä½ å¸Œæœ›åƒè¿™æ ·ä½¿ç”¨å®ƒï¼š

```cpp
Vector2D a{1, 2}, b{3, 4};
Vector2D c = a + b;  // è®©è¿™è¡Œä»£ç å¯ä»¥æ­£å¸¸å·¥ä½œ
```

é»˜è®¤æƒ…å†µä¸‹ï¼ŒC++ ä¸çŸ¥é“ `+` å¦‚ä½•å¤„ç†ä¸¤ä¸ª `Vector2D`ï¼Œæ‰€ä»¥ä½ éœ€è¦**é‡è½½ `+` è¿ç®—ç¬¦**ã€‚

---

## âœï¸ å¦‚ä½•é‡è½½è¿ç®—ç¬¦ï¼Ÿï¼ˆä»¥ `+` ä¸ºä¾‹ï¼‰

### âœ… ç±»å†…å†™æ³•ï¼ˆæˆå‘˜å‡½æ•°ï¼‰ï¼š

```cpp
#include <iostream>

class Vector2D {
public:
    float x, y;

    Vector2D(float x=0, float y=0) : x(x), y(y) {}

    // è¿ç®—ç¬¦é‡è½½ +
    Vector2D operator+(const Vector2D& other) const {
        return Vector2D(x + other.x, y + other.y);
    }

    void print() const {
        std::cout << "(" << x << ", " << y << ")\n";
    }
};
```

### âœ… ä½¿ç”¨ï¼š

```cpp
int main() {
    Vector2D a(1, 2);
    Vector2D b(3, 4);
    Vector2D c = a + b;
    c.print();  // è¾“å‡º: (4, 6)
}
```

---

## ğŸ§© å¸¸è§å¯é‡è½½è¿ç®—ç¬¦

|è¿ç®—ç¬¦|ç”¨æ³•|å¯é‡è½½ï¼Ÿ|
|---|---|---|
|`+`|åŠ æ³•|âœ…|
|`-`|å‡æ³•|âœ…|
|`*`|ä¹˜æ³•|âœ…|
|`==`|åˆ¤æ–­ç›¸ç­‰|âœ…|
|`=`|èµ‹å€¼|âœ…ï¼ˆæ³¨æ„ï¼‰|
|`[]`|ä¸‹æ ‡è®¿é—®|âœ…|
|`<<`|è¾“å‡ºæµ|âœ…|
|`()`|å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦|âœ…|

---

## ğŸ’¬ ç¤ºä¾‹ï¼šé‡è½½ `==` è¿ç®—ç¬¦ï¼ˆæ¯”è¾ƒä¸¤ä¸ªå‘é‡æ˜¯å¦ç›¸ç­‰ï¼‰

```cpp
bool operator==(const Vector2D& other) const {
    return x == other.x && y == other.y;
}
```

ç„¶åä½ å¯ä»¥å†™ï¼š

```cpp
if (a == b) {
    std::cout << "å‘é‡ç›¸ç­‰" << std::endl;
}
```

---

## ğŸ§µ ç¤ºä¾‹ï¼šé‡è½½ `<<` è¾“å‡ºè¿ç®—ç¬¦ï¼ˆè®© `cout << obj` å¯ç”¨ï¼‰

è¿™ä¸ªé€šå¸¸éœ€è¦å†™åœ¨ç±»**å¤–éƒ¨**ï¼Œå› ä¸º `<<` çš„å·¦è¾¹æ˜¯ `std::ostream`ã€‚

```cpp
#include <iostream>

class Vector2D {
public:
    float x, y;

    Vector2D(float x=0, float y=0) : x(x), y(y) {}
};

// << è¿ç®—ç¬¦é‡è½½ï¼ˆéæˆå‘˜å‡½æ•°ï¼‰
std::ostream& operator<<(std::ostream& os, const Vector2D& v) {
    os << "(" << v.x << ", " << v.y << ")";
    return os;
}
```

ç„¶åä½ å¯ä»¥è¿™æ ·ç”¨ï¼š

```cpp
int main() {
    Vector2D v(1.5, 2.5);
    std::cout << v << std::endl;  // è¾“å‡º: (1.5, 2.5)
}
```

---

## ğŸ§  å°ç»“

|åç§°|ç¤ºä¾‹|ä½œç”¨|
|---|---|---|
|è¿ç®—ç¬¦é‡è½½|`operator+`|è®©ä½ çš„ç±»æ”¯æŒè¿ç®—ç¬¦ï¼ˆå¦‚ `+`ï¼‰|
|æˆå‘˜å‡½æ•°é‡è½½|`a + b` å†…éƒ¨æ˜¯ `a.operator+(b)`|æ¨èç”¨æˆå‘˜å‡½æ•°å¤„ç†å·¦æ“ä½œæ•°æ˜¯è‡ªèº«|
|éæˆå‘˜å‡½æ•°é‡è½½|`<<`ã€`==` ç­‰|å½“å·¦è¾¹ä¸æ˜¯ç±»å¯¹è±¡æ—¶å¸¸è¿™æ ·å†™|

---

## âœ… æ–°æ‰‹ä½¿ç”¨å»ºè®®

- å…ˆæŒæ¡ `+`, `==`, `<<` è¿™äº›æœ€å¸¸ç”¨çš„ã€‚
    
- æ¯ä¸ªé‡è½½éƒ½æ˜¯ä¸€ä¸ªâ€œå‡½æ•°â€ï¼Œè®°ä½å®ƒåªæ˜¯å†™æ³•ä¸åŒã€‚
    
- ä¸è¦è¿‡åº¦é‡è½½ï¼é‡è½½è¦è®©è¡Œä¸ºâ€œç¬¦åˆç›´è§‰â€ã€‚
    


# è¿ç®—ç¬¦é‡è½½ä¸­çš„const

## ğŸ¯ åœºæ™¯ï¼šé‡è½½ `+` è¿ç®—ç¬¦

å…ˆçœ‹ä¸€æ®µå…¸å‹çš„è¿ç®—ç¬¦é‡è½½ä»£ç ï¼š

```cpp
class Vector2D {
public:
    float x, y;

    Vector2D(float x=0, float y=0) : x(x), y(y) {}

    // ğŸ‘‡ è¿™ä¸¤ä¸ª const å°±æ˜¯æˆ‘ä»¬è¦è®²çš„é‡ç‚¹
    Vector2D operator+(const Vector2D& other) const {
        return Vector2D(x + other.x, y + other.y);
    }
};
```

æˆ‘ä»¬æ¥é€ä¸ªæ‹†è§£è¿™ä¸¤ä¸ª `const`ï¼š

---

## ğŸ§© ç¬¬ä¸€ä¸ª `const`ï¼ˆå‚æ•°ä¸­çš„ï¼‰

```cpp
const Vector2D& other
```

### âœ… å«ä¹‰ï¼š

`other` æ˜¯ä¸€ä¸ª**å¸¸é‡å¼•ç”¨**ï¼Œè¡¨ç¤ºï¼š

> æˆ‘ä¸ä¼šä¿®æ”¹ `other` è¿™ä¸ªä¼ è¿›æ¥çš„å¯¹è±¡ã€‚

### âœ… ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Ÿ

- é¿å…ä¸å°å¿ƒæ”¹åŠ¨å®ƒã€‚
    
- å…è®¸å‡½æ•°æ¥æ”¶**ä¸´æ—¶å¯¹è±¡**æˆ–**constå¯¹è±¡**ã€‚
    
- å¼•ç”¨ï¼ˆ`&`ï¼‰é¿å…äº†å¯¹è±¡å¤åˆ¶ï¼Œæé«˜æ•ˆç‡ã€‚
    

---

### âœ… ä¸¾ä¾‹æ¯”è¾ƒï¼š

```cpp
Vector2D operator+(Vector2D other);     // âŒ æ‹·è´ä¸€ä»½ï¼Œä¸å¿…è¦
Vector2D operator+(Vector2D& other);    // âŒ ä¸èƒ½æ¥æ”¶ const å¯¹è±¡æˆ–ä¸´æ—¶å¯¹è±¡
Vector2D operator+(const Vector2D& other);  // âœ… æ¨èå†™æ³•
```

---

## ğŸ§© ç¬¬äºŒä¸ª `const`ï¼ˆå‡½æ•°å°¾éƒ¨ï¼‰

```cpp
... operator+(...) const
```

### âœ… å«ä¹‰ï¼š

è¿™ä¸ª `const` ä¿®é¥°çš„æ˜¯**æ•´ä¸ªæˆå‘˜å‡½æ•°**ï¼Œè¡¨ç¤ºï¼š

> æˆ‘ä¸ä¼šä¿®æ”¹å½“å‰å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼ˆå³ `this` æ˜¯ constï¼‰ã€‚

ä¹Ÿå°±æ˜¯ä½ **æ‰¿è¯º**ï¼šâ€œæˆ‘ä¸ä¼šæ”¹ `x` å’Œ `y`â€ã€‚

### âœ… ä¸¾ä¾‹ï¼š

```cpp
Vector2D a(1, 2);
Vector2D b(3, 4);
a + b;  // a.operator+(b)ï¼Œa æ˜¯ const å—ï¼Ÿä¸æ˜¯

const Vector2D c(1, 2);
c + b;  // c.operator+(b)ï¼Œc æ˜¯ constï¼åªèƒ½è°ƒç”¨ const å‡½æ•°
```

å¦‚æœä½ ä¸åŠ å°¾éƒ¨ `const`ï¼Œ`c + b` è¿™è¡Œä»£ç å°±ä¼šæŠ¥é”™ï¼Œå› ä¸º `c` æ˜¯å¸¸é‡å¯¹è±¡ï¼Œå®ƒåªèƒ½è°ƒç”¨æ ‡è®°äº† `const` çš„æˆå‘˜å‡½æ•°ã€‚

---

## ğŸ”’ æ€»ç»“ï¼šä¸¤ä¸ª `const` çš„ä½œç”¨

|ä½ç½®|æ„ä¹‰|ä½œç”¨|
|---|---|---|
|å‚æ•°é‡Œçš„ `const`|`const Vector2D& other`|ä¿è¯ä½ ä¸ä¼šä¿®æ”¹ä¼ å…¥çš„å¯¹è±¡|
|å‡½æ•°å°¾éƒ¨çš„ `const`|`... operator+(...) const`|ä¿è¯ä½ ä¸ä¼šä¿®æ”¹å½“å‰å¯¹è±¡|

---

## ğŸ§  æ€»ç»“å£è¯€

> **å‰ `const` ä¸æ”¹åˆ«äººï¼Œå `const` ä¸æ”¹è‡ªå·±ã€‚**

---

## âœ… æœ€ä½³å®è·µæ¨¡æ¿

```cpp
class Vector2D {
public:
    float x, y;

    Vector2D(float x=0, float y=0) : x(x), y(y) {}

    Vector2D operator+(const Vector2D& other) const {
        return Vector2D(x + other.x, y + other.y);
    }
};
```

