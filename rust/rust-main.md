# rust

## 基本概念

### 变量

[变量](变量.md)

### 数据类型

[数据类型](数据类型.md)

### 函数

[[函数]]

### 注释

和c/c++一样

### 选择和循环

[选择和循环](选择和循环.md)

## ownership borrow reference

所有权（ownership）是rust的一个重要特性

### 所有权

[什么是所有权](什么是所有权.md)

但是在这里可以发现一个问题,如果想在函数中使用一个变量之后继续使用这个变量该怎么做?能不能不发生所有权的改变,这就涉及到引用(references)

### 引用

[引用](引用.md)

### 切片

切片是获得一个集合中一段元素序列的类型,是一种**引用**,没有数据的所有权

```rust
let s=String::from("hello,world");
let s1=&s[0..5];
let s2=&s[6..11];
```

注意:s1和s2指向内存的**同一个**区域的不同位置

另外有几点注意事项:

1. rust的range语法允许`..`前不写内容默认从0开始,后不写默认到结尾
2. 字符串的slice的索引必须是utf-8字符的字节边界处,比如一个汉字三个字节,那么从2开始进行切片会造成崩溃
3. slice是一个复合结构,其内部含一个指向内容的指针和一个表示大小的整数

字符串的字面值其实就是一个slice,字符串存放于内存某处,而变量是他的一个不可变引用.
&str类型囊括了字符串切片和字符串,建议在函数参数类型定义里使用

另外,数组等也可以使用slice操作.